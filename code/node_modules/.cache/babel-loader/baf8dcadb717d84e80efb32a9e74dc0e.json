{"ast":null,"code":"import _toConsumableArray from\"/Users/josephine/Desktop/myproject/yogajuristen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/josephine/Desktop/myproject/yogajuristen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/josephine/Desktop/myproject/yogajuristen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  width: 40px;\\n  height: 40px;\\n  border: solid 2px white;\\n  border-radius: 50%;\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 2rem;\\n  background: none;\\n    @media(min - width: 1024px) {\\n      width: 50px;\\n      height: 50px;\\n    }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-end;\\n  padding-right: 14px;\\n  margin: 20px 0; \\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  color: white;\\n  font-style: italic; \\n  font-size: 1.4rem;\\n  text-decoration: none;\\n    &:hover {\\n      color: darkgrey;\\n  \\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  height: 100px; \\n  border-radius: 10px;\\n    @media(min-width:668px) and (max-width:1024px){\\n      height: 150px; \\n    }\\n    @media(min-width: 1024px){\\n      height: 175px; \\n    }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  margin: 20px; \\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  margin: 30px; \\n  display: flex; \\n  flex-direction: column; \\n  width: 50%; \\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex; \\n  justify-content: center; \\n  color: #5e5e5e; \\n  font-family: 'Barlow', sans-serif;\\n  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5)), url(\",\");\\n  background-size: cover;\\n  margin-bottom: 40px; \\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import styled from'styled-components';import{Link}from'react-router-dom';import{useSelector}from'react-redux';import warrior from'../images/warrior.jpg';var Input=styled.div(_templateObject(),warrior);var Form=styled.label(_templateObject2());var Text=styled.h2(_templateObject3());var Textarea=styled.textarea(_templateObject4());var StyledLink=styled(Link)(_templateObject5());var ButtonContainer=styled.div(_templateObject6());var Button=styled.button(_templateObject7());export var ReviewInput=function ReviewInput(_ref){var setReviews=_ref.setReviews;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userReview=_useState2[0],setUserReview=_useState2[1];var accessToken=useSelector(function(store){return store.user.login.accessToken;});var userName=useSelector(function(store){return store.user.login.userName;});var handleReviewSubmit=function handleReviewSubmit(event){event.preventDefault();// fetch('http://localhost:9001/reviews', {\nfetch('https://yogajuristen.herokuapp.com/reviews',{method:'POST',headers:{Authorization:accessToken,'Content-Type':'application/json'},body:JSON.stringify({message:userReview,reviewer:userName})}).then(function(res){return res.json();}).then(function(newReview){setReviews(function(previousReviews){return[newReview].concat(_toConsumableArray(previousReviews));});setUserReview('');// will empty the textarea when the form is submitted\n});};return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleReviewSubmit},/*#__PURE__*/React.createElement(Input,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Text,null,\"L\\xE4mna g\\xE4rna en h\\xE4lsning eller en recension! \"),/*#__PURE__*/React.createElement(Textarea,{onChange:function onChange(event){return setUserReview(event.target.value);},value:userReview}),/*#__PURE__*/React.createElement(ButtonContainer,null,\" \",accessToken?/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"+ \"):/*#__PURE__*/React.createElement(StyledLink,{to:\"/LogIn\"},\"Logga in f\\xF6rst > \")))));};","map":{"version":3,"sources":["/Users/josephine/Desktop/myproject/yogajuristen-frontend/src/components/ReviewInput.js"],"names":["React","useState","styled","Link","useSelector","warrior","Input","div","Form","label","Text","h2","Textarea","textarea","StyledLink","ButtonContainer","Button","button","ReviewInput","setReviews","userReview","setUserReview","accessToken","store","user","login","userName","handleReviewSubmit","event","preventDefault","fetch","method","headers","Authorization","body","JSON","stringify","message","reviewer","then","res","json","newReview","previousReviews","target","value"],"mappings":"ghFAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CAEA,GAAMC,CAAAA,KAAK,CAAGJ,MAAM,CAACK,GAAV,mBAKsEF,OALtE,CAAX,CAUA,GAAMG,CAAAA,IAAI,CAAGN,MAAM,CAACO,KAAV,oBAAV,CAMA,GAAMC,CAAAA,IAAI,CAAGR,MAAM,CAACS,EAAV,oBAAV,CAIA,GAAMC,CAAAA,QAAQ,CAAGV,MAAM,CAACW,QAAV,oBAAd,CAWA,GAAMC,CAAAA,UAAU,CAAGZ,MAAM,CAACC,IAAD,CAAT,oBAAhB,CAUA,GAAMY,CAAAA,eAAe,CAAGb,MAAM,CAACK,GAAV,oBAArB,CAOA,GAAMS,CAAAA,MAAM,CAAGd,MAAM,CAACe,MAAV,oBAAZ,CAiBA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAoB,IAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,eACTlB,QAAQ,CAAC,EAAD,CADC,wCACtCmB,UADsC,eAC1BC,aAD0B,eAE7C,GAAMC,CAAAA,WAAW,CAAGlB,WAAW,CAAC,SAACmB,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBH,WAA5B,EAAD,CAA/B,CACA,GAAMI,CAAAA,QAAQ,CAAGtB,WAAW,CAAC,SAACmB,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBC,QAA5B,EAAD,CAA5B,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CACpCA,KAAK,CAACC,cAAN,GAEA;AACAC,KAAK,CAAC,4CAAD,CAA+C,CAClDC,MAAM,CAAE,MAD0C,CAElDC,OAAO,CAAE,CACPC,aAAa,CAAEX,WADR,CAEP,eAAgB,kBAFT,CAFyC,CAOlDY,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,OAAO,CAAEjB,UAAX,CAAuBkB,QAAQ,CAAEZ,QAAjC,CAAf,CAP4C,CAA/C,CAAL,CASGa,IATH,CASQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EATR,EAUGF,IAVH,CAUQ,SAACG,SAAD,CAAe,CACnBvB,UAAU,CAAC,SAACwB,eAAD,SAAsBD,SAAtB,4BAAoCC,eAApC,IAAD,CAAV,CACAtB,aAAa,CAAC,EAAD,CAAb,CAAmB;AACpB,CAbH,EAcD,CAlBD,CAmBA,mBACE,4BAAM,QAAQ,CAAEM,kBAAhB,eACE,oBAAC,KAAD,mBACE,oBAAC,IAAD,mBACE,oBAAC,IAAD,8DADF,cAEE,oBAAC,QAAD,EACE,QAAQ,CAAE,kBAACC,KAAD,QAAWP,CAAAA,aAAa,CAACO,KAAK,CAACgB,MAAN,CAAaC,KAAd,CAAxB,EADZ,CAEE,KAAK,CAAEzB,UAFT,EAFF,cAME,oBAAC,eAAD,UAAmBE,WAAW,cAAI,oBAAC,MAAD,EAChC,IAAI,CAAC,QAD2B,OAAJ,cAIzB,oBAAC,UAAD,EAAY,EAAE,CAAC,QAAf,yBAJL,CANF,CADF,CADF,CADF,CAmBD,CA3CM","sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport warrior from '../images/warrior.jpg';\n\nconst Input = styled.div`\n  display: flex; \n  justify-content: center; \n  color: #5e5e5e; \n  font-family: 'Barlow', sans-serif;\n  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5)), url(${warrior});\n  background-size: cover;\n  margin-bottom: 40px; \n`\n\nconst Form = styled.label`\n  margin: 30px; \n  display: flex; \n  flex-direction: column; \n  width: 50%; \n`\nconst Text = styled.h2`\n  margin: 20px; \n`\n\nconst Textarea = styled.textarea`\n  height: 100px; \n  border-radius: 10px;\n    @media(min-width:668px) and (max-width:1024px){\n      height: 150px; \n    }\n    @media(min-width: 1024px){\n      height: 175px; \n    }\n`\n\nconst StyledLink = styled(Link)`\n  color: white;\n  font-style: italic; \n  font-size: 1.4rem;\n  text-decoration: none;\n    &:hover {\n      color: darkgrey;\n  \n`\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n  margin: 20px 0; \n`\n\nconst Button = styled.button`\n  width: 40px;\n  height: 40px;\n  border: solid 2px white;\n  border-radius: 50%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2rem;\n  background: none;\n    @media(min - width: 1024px) {\n      width: 50px;\n      height: 50px;\n    }\n`\n\nexport const ReviewInput = ({ setReviews }) => {\n  const [userReview, setUserReview] = useState('');\n  const accessToken = useSelector((store) => store.user.login.accessToken);\n  const userName = useSelector((store) => store.user.login.userName);\n\n  const handleReviewSubmit = (event) => {\n    event.preventDefault();\n\n    // fetch('http://localhost:9001/reviews', {\n    fetch('https://yogajuristen.herokuapp.com/reviews', {\n      method: 'POST',\n      headers: {\n        Authorization: accessToken,\n        'Content-Type': 'application/json',\n      },\n\n      body: JSON.stringify({ message: userReview, reviewer: userName })\n    })\n      .then((res) => res.json())\n      .then((newReview) => {\n        setReviews((previousReviews) => [newReview, ...previousReviews]);\n        setUserReview(''); // will empty the textarea when the form is submitted\n      });\n  };\n  return (\n    <form onSubmit={handleReviewSubmit}>\n      <Input>\n        <Form>\n          <Text>Lämna gärna en hälsning eller en recension! </Text>\n          <Textarea\n            onChange={(event) => setUserReview(event.target.value)}\n            value={userReview}\n          />\n          <ButtonContainer> {accessToken ? (<Button\n            type='submit'\n          >\n            + </Button>\n          ) : (<StyledLink to=\"/LogIn\">Logga in först > </StyledLink>)}\n          </ButtonContainer>\n        </Form>\n      </Input>\n    </form>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}