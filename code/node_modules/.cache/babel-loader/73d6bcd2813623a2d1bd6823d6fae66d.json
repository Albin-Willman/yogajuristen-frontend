{"ast":null,"code":"var _jsxFileName = \"/Users/josephine/Desktop/myproject/yogajuristen-frontend/src/components/ReviewInput.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport warrior from '../images/warrior.jpg';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { user } from 'reducers/user';\nconst Input = styled.div`\ndisplay: flex; \njustify-content: center; \ncolor: #5e5e5e; \nfont-family: 'Barlow', sans-serif;\nbackground-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3)), url(${warrior});\nbackground-size: cover;\nmargin-bottom: 40px; \n`;\nconst Form = styled.label`\nmargin: 30px; \ndisplay: flex; \nflex-direction: column; \nwidth: 50%; \n`;\nconst Text = styled.h2`\nmargin: 20px; \n\n\n\n\n`;\nconst Textarea = styled.textarea`\nheight: 100px; \nborder-radius: 10px;\n@media(min-width:668px) and (max-width:1024px){\n  height: 150px; \n}\n@media(min-width: 1024px){\n  height: 175px; \n}\n`;\nconst LogInTextContainer = styled.div`\ndisplay: flex;\njustify-content: flex-end;\npadding-right: 14px;\nmargin: 20px 0; `;\nconst LogInText = styled.h2`\ncolor: white;\nfont-style: italic; \nfont-size: 1rem;\n`;\nconst ButtonContainer = styled.div`\ndisplay: flex;\njustify-content: flex-end;\npadding-right: 14px;\nmargin: 20px 0; \n\n`;\nconst Button = styled.button`\nwidth: 40px;\nheight: 40px;\nborder: solid 2px white;\nborder - radius: 50 %;\ncolor: white;\ndisplay: flex;\nalign - items: center;\njustify - content: center;\nfont - size: 2rem;\n\nbackground: none;\n@media(min - width: 1024px) {\n  width: 50px;\n  height: 50px;\n}\n\n\n`;\nexport const ReviewInput = ({\n  setReviews\n}) => {\n  const [userReview, setUserReview] = useState('');\n  const accessToken = useSelector(store => store.user.login.accessToken);\n  const userName = useSelector(store => store.user.login.userName);\n\n  const handleReviewSubmit = event => {\n    event.preventDefault();\n    fetch('http://localhost:9001/reviews', {\n      method: 'POST',\n      headers: {\n        Authorization: accessToken,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        message: userReview,\n        reviewer: userName\n      })\n    }).then(res => res.json()).then(newReview => {\n      setReviews(previousReviews => [newReview, ...previousReviews]);\n      setUserReview(''); // will empty the textarea when the form is submitted\n    });\n  }; // if (accessToken) {\n  //   return <Input><p>Log in to leave a review</p></Input>\n  // } else {\n\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleReviewSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"L\\xE4mna g\\xE4rna en h\\xE4lsning eller en recension! \"), /*#__PURE__*/React.createElement(Textarea, {\n    onChange: event => setUserReview(event.target.value),\n    value: userReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), accessToken ? /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 44\n    }\n  }, \"+\")) : /*#__PURE__*/React.createElement(LogInText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 43\n    }\n  }, \"Logga in f\\xF6rst.\"))));\n}; // };","map":{"version":3,"sources":["/Users/josephine/Desktop/myproject/yogajuristen-frontend/src/components/ReviewInput.js"],"names":["React","useState","useEffect","styled","warrior","useDispatch","useSelector","user","Input","div","Form","label","Text","h2","Textarea","textarea","LogInTextContainer","LogInText","ButtonContainer","Button","button","ReviewInput","setReviews","userReview","setUserReview","accessToken","store","login","userName","handleReviewSubmit","event","preventDefault","fetch","method","headers","Authorization","body","JSON","stringify","message","reviewer","then","res","json","newReview","previousReviews","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport warrior from '../images/warrior.jpg'\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { user } from 'reducers/user';\n\nconst Input = styled.div`\ndisplay: flex; \njustify-content: center; \ncolor: #5e5e5e; \nfont-family: 'Barlow', sans-serif;\nbackground-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3)), url(${warrior});\nbackground-size: cover;\nmargin-bottom: 40px; \n`\n\n\nconst Form = styled.label`\nmargin: 30px; \ndisplay: flex; \nflex-direction: column; \nwidth: 50%; \n`\nconst Text = styled.h2`\nmargin: 20px; \n\n\n\n\n`\n\nconst Textarea = styled.textarea`\nheight: 100px; \nborder-radius: 10px;\n@media(min-width:668px) and (max-width:1024px){\n  height: 150px; \n}\n@media(min-width: 1024px){\n  height: 175px; \n}\n`\n\nconst LogInTextContainer = styled.div`\ndisplay: flex;\njustify-content: flex-end;\npadding-right: 14px;\nmargin: 20px 0; `\n\nconst LogInText = styled.h2`\ncolor: white;\nfont-style: italic; \nfont-size: 1rem;\n`\n\nconst ButtonContainer = styled.div`\ndisplay: flex;\njustify-content: flex-end;\npadding-right: 14px;\nmargin: 20px 0; \n\n`\n\n\nconst Button = styled.button`\nwidth: 40px;\nheight: 40px;\nborder: solid 2px white;\nborder - radius: 50 %;\ncolor: white;\ndisplay: flex;\nalign - items: center;\njustify - content: center;\nfont - size: 2rem;\n\nbackground: none;\n@media(min - width: 1024px) {\n  width: 50px;\n  height: 50px;\n}\n\n\n`\n\n\n\n\nexport const ReviewInput = ({ setReviews }) => {\n  const [userReview, setUserReview] = useState('');\n  const accessToken = useSelector((store) => store.user.login.accessToken);\n  const userName = useSelector((store) => store.user.login.userName);\n\n  const handleReviewSubmit = (event) => {\n    event.preventDefault();\n\n    fetch('http://localhost:9001/reviews', {\n      method: 'POST',\n      headers: {\n        Authorization: accessToken,\n        'Content-Type': 'application/json',\n      },\n\n      body: JSON.stringify({ message: userReview, reviewer: userName })\n    })\n      .then((res) => res.json())\n      .then((newReview) => {\n        setReviews((previousReviews) => [newReview, ...previousReviews]);\n        setUserReview(''); // will empty the textarea when the form is submitted\n      });\n  };\n  // if (accessToken) {\n  //   return <Input><p>Log in to leave a review</p></Input>\n  // } else {\n  return (\n    <form onSubmit={handleReviewSubmit}>\n      <Input>\n        <Form>\n          <Text>Lämna gärna en hälsning eller en recension! </Text>\n          <Textarea\n            onChange={(event) => setUserReview(event.target.value)}\n            value={userReview}\n          />\n          {accessToken ? (<ButtonContainer><Button\n            type='submit'\n          >\n            +\n          </Button></ButtonContainer>) : (<LogInText>Logga in först.</LogInText>)}\n\n\n        </Form>\n      </Input>\n    </form>\n  );\n}\n// };\n"]},"metadata":{},"sourceType":"module"}